!function e(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var i=n();for(var r in i)("object"==typeof exports?exports:t)[r]=i[r]}}("undefined"!=typeof self?self:this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function t(){return e.default}:function t(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),l=new o.default;l.TextCliper=o.default,window.TextCliper=l,l.install=function(e){e.directive("textclip",{inserted:function e(t,n){l.clip(t,n.value)}}),e.prototype.$textclip=function(e,t){l.clip(e,t)}},window.Vue&&window.Vue.use(l),t.default=l},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sign,i=void 0===n?a.sign:n,r=t.lines||t||a.lines,o=null,l=!1;return e&&(e.style.cssText+="word-wrap:break-word",o=new f.default(e,null,i),l=o.root.getScrollHeight()>o.root.getMaxHeight(r)),{sign:i,lines:r,element:o,need_ellipsis:l}}function l(e,t){var n={};for(var i in t)n[i]=e["_"+i]||t[i];return n}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(2),f=i(s),a={lines:1,sign:"..."},c=function(){function e(t,n){r(this,e);var i=o(t,n),l=i.element,u=i.lines,s=i.sign,f=i.need_ellipsis;if(!f)return!1;this._el=t,this._element=l,this._lines=u,this._sign=s,this._need_ellipsis=f}return u(e,[{key:"clip",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.el,n=this,i=arguments[1],r=arguments[2],u=r||o(t,i),s=l(this,u),a=s.need_ellipsis,c=s.lines,h=s.sign,d=s.element,p=t instanceof f.default?t:new f.default(t,d,h);return!!a&&p.children.reverse().some(function(e){return!(1!==e.type||!n.clip(e,i,u))||(!(3!==e.type||!e.clipText(c))||(p.removeChild(e),!1))})}}]),e}();t.default=c},function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=window,l=function(){function e(t,n,r){i(this,e),this.el=t,this.root=n||this,this.sign=r,this.type=t.nodeType,this.text=t.textContent,this.children=this._initChildren(t.childNodes),this._root_width=this.root.el.getBoundingClientRect().width,this._font_size=parseInt(this._getStyle("fontSize"),10),this._word_count=this._root_width/this._font_size,this._line_height=this.getLineHeight()}return r(e,[{key:"_initChildren",value:function t(n){var i=[],r=this.root,o=this.sign;if(!n)return i;for(;i.length<n.length;)i.push(new e(n[i.length],r,o));return i}},{key:"_getStyle",value:function e(t){var n=this.type,i=this.el,r=this.root;return 1!==n?o.getComputedStyle(r.el)[t]:o.getComputedStyle(i)[t]}},{key:"getLineHeight",value:function e(){var t=parseInt(this._getStyle("lineHeight"),10);return o.isNaN(t)?this.getDefaultLineHeight():t}},{key:"getDefaultLineHeight",value:function e(){return 1.2*this._font_size}},{key:"getScrollHeight",value:function e(){var t=this.el.scrollHeight,n=this.getDefaultLineHeight(),i=this.getLineHeight();return parseInt(n/i*t,10)}},{key:"getMaxHeight",value:function e(t){var n=document.createElement("p"),i=t*this._line_height;return n.textContent="h",n.cssText+="position:absolute;opacity:0",this.el.appendChild(n),i=n.getBoundingClientRect().height*t||i,this.el.removeChild(n),i}},{key:"clipText",value:function e(t){var n=this.el,i=this.root,r=this.text,o=this.sign,l=this._word_count,u=i.getMaxHeight(t),s=parseInt(t*l,10)+1,f="";for(s=Math.min(r.length,s);s>=0&&(f=r.trim().substring(0,s+1));){if(n.textContent=f+o,i.getScrollHeight()<=u)return!0;s-=1}return!1}},{key:"removeChild",value:function e(t){return 1===t.type&&this.el.removeChild(t.el),!1}}]),e}();t.default=l}])});